@model OneMits.Models.Question.QuestionIndexModel


<div class="row">
    <div class="col-md-8">
        <span class="contact100-froum-title">
            Post
        </span>
    </div>
    <div class="col-md-4">
        <div class="container-contact100-forum-btn" style="margin: 54px 0px 0px 227px;">
            <form asp-controller="Category" asp-action="Topic" asp-route-id="@Model.CategoryId">
                <button class="contact100-form-btn">

                    <span>
                        Back to @Model.CategoryTitle
                        <i class="fa fa-long-arrow-right m-l-7" aria-hidden="true"></i>
                    </span>

                </button>
            </form>
        </div>
    </div>
</div>

<div id="tab1" class="w3-container  city">
    <div class="set-container">
        <div>
            <p class="question">@Model.QuestionTitle</p>
        </div>

        <div class="answer">
            <p>
                @Html.Raw(Model.QuestionContent)
            </p>
        </div>
        <div>
            <p class="by-part">
                By - <a asp-controller="Profile" asp-action="Details" asp-route-id="@Model.AuthorId" class="take-part">
                    @Model.AuthorName
                </a>&nbsp &nbsp Category -
                <a asp-controller="Category" asp-action="Topic" asp-route-id="@Model.CategoryId" class="take-part">
                    @Model.CategoryTitle
                </a>
            </p>
        </div>
        <div class="margin"> </div>
        <div class="share">
            <a><i class="fa fa-heart" style="font-size:25px;"></i></a>
            <a><i class="fa fa-history" style="font-size:25px;"></i> @Model.QuestionCreated</a>
            <a><i class="fa fa-comment" style="font-size:25px;"></i> @Model.AnswerCount</a>

            <a href="#" target="_blank">
                <i class="fa fa-share-alt-square" style="font-size:25px;"></i>
                <p href="#" class="sbutton">Share</p>
            </a>
        </div>
    </div>
</div>


@if (User.Identity.IsAuthenticated)
{
    <button class="btn-re" href="#section1"><a asp-controller="Answer" asp-action="Create" asp-route-id="@Model.QuestionId">Add Reply</a></button>
}

@if (Model.Answers.Any())
{<span class="reply-title">
        Replies....
    </span>
    <br>
    foreach (var reply in Model.Answers)
    {
        <div id="tab1" class="w3-container  city">
            <div class="set-container">
                <br>

                <div class="margin"> </div>
                <div class="answer">
                    <p>
                        @reply.AnswerContent
                    </p>
                </div>

                <div>
                    <p class="by-Repart ml-50">
                        <strong>By :</strong>
                        <a asp-controller="Profile" asp-action="Details" asp-route-id="@reply.AuthorId" class="take-part">
                            @reply.AuthorName
                        </a>
                    </p>
                    <p class="by-Repart ml-50">
                        <strong>By :</strong>
                        <a class="take-part">
                            @reply.AnswerCreated
                        </a>
                    </p>

                </div>

                <div class="margin"> </div> <br><br>

            </div>
        </div>
    }

    <button class="btn-re" style="margin-left: 600px">More Answers</button>
}

else
{
    <div class="noPosts">
        <h3>
            There are no Replies to this post.
        </h3>
    </div>
}


<div id="sectiocn1" class="w3-container  city">
    <div class="set-container-re">
        <br>
        <span class="rply-title">
            Add Your Reply
        </span><br>
        <div class="margin"> </div><br>
        <form class="contact100-form validate-form" asp-action="AddAnswer" asp-route-id="@Model.QuestionId" method="post" id="addPostForm">
            <div class="container-Recontact">
                <div class="wrap-input100 validate-input" data-validate="Message is required">
                    <label class="label-input100" asp-for="AnswerContent">Reply</label>
                    <textarea asp-for="AnswerContent" class="input100" placeholder="Your Review About The Question..."></textarea>
                    <span asp-validation-for="AnswerContent" class="focus-input100"></span>
                </div>
                <div class="container-contact100-form-btn">
                    <button class="contact100-form-btn">
                        <span>
                            Submit
                            <i class="fa fa-long-arrow-right m-l-7" aria-hidden="true"></i>
                        </span>
                    </button>
                </div>
            </div>
            <input asp-for="@Model.AuthorId" type="hidden" />
            <input asp-for="@Model.CategoryId" type="hidden" />
            <input asp-for="@Model.QuestionId" type="hidden" />
        </form>
    </div>
</div>